<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>My Old Kentucky Home</title>
		<link rel="stylesheet" href="style.css" type="text/css" />
	</head>

	<body>

		<h1 id="title">My Old Kentucky Home</h1>

		<video src="https://www.cs.tufts.edu/comp/20/my_old_kentucky_home.mp4" id="music_video" controls></video>
		<div id="lyrics"></div>

		<script>
			var displayLyrics = document.getElementById("lyrics");  // lyrics or pictures to be displayed
			var	video = document.getElementById("music_video");
			var lyricList = [];
			var changeLyricTime = [7, 13, 20, 26, 34, 41, 48, 54, 62, 68, 75, 78, 82, 92, 96]; //upper bound to change lyric/picture
			var i = 0; // counter to increment what is being displayed
			lyricList = [ 
				'<img src="random_dog.jpg" alt="random_dog" width=320 height=240 />' , 
				"The sun shines bright in My Old Kentucky Home" ,
				"'Tis summer, the people are gay" ,
				"The corn-top's ripe and the meadow's in the bloom" ,
				"While the birds make music all the day." ,

				"The young folks roll on the little cabin floor, " ,
				"All merry, all happy and bright; " ,
				"By 'n' by hard times comes a knocking at the door," , 
				"Then My Old Kentucky Home, good night! " ,

				"Weep no more my lady" ,
				"Oh weep no more today; " ,
				"We will sing one song" ,
				"For My Old Kentucky Home" ,
				"For My Old Kentucky Home, far away",
				'<img src="farewell.jpg" alt="goodbye picture" width=400 height=300 />' ];


			video.addEventListener("timeupdate", function() {
				if(video.currentTime < changeLyricTime[i]) {  // Original check. If time less than switching time, display lyrics, if not, increment i and display new lyrics. Was elegant but does not work in reverse.
					if(i == 0){ // if first thing to be displayed, do not check if time > the previous switch time
						displayLyrics.innerHTML = "<p>" + lyricList[i] + "</p>";
					} else if (video.currentTime > changeLyricTime[i-1]) { 
						displayLyrics.innerHTML = "<p>" + lyricList[i] + "</p>"; 
					} else {
						i--; // adds reverse functionality
					}
				}
				// doesn't keep going and incrementing i because timeupdate stops happening when the video ends.
				else {  
					i++;
				}
			});

				/* image sources: https://s-media-cache-ak0.pinimg.com/originals/93/fb/c8/93fbc89e6315e8b54674e3996a2491b8.jpg 
				   https://cdn.meme.am/instances/500x/65685652/crying-cat-well-miss-you-farewell-lots-of-success.jpg
				*/

		</script>
	</body>


</html>	
